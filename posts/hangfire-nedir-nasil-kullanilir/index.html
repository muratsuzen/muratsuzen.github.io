<!DOCTYPE html><html lang="en" data-mode="dark" ><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="generator" content="Jekyll v4.3.2" /><meta property="og:title" content="Murat Süzen" /><meta property="og:locale" content="tr_TR" /><meta name="description" content=".Net Core, Angular, T-SQL, ASP.NET Core, Typescript" /><meta property="og:description" content=".Net Core, Angular, T-SQL, ASP.NET Core, Typescript" /><link rel="canonical" href="https://muratsuzen.github.io/" /><meta property="og:url" content="https://muratsuzen.github.io/" /><meta property="og:site_name" content="Murat Süzen" /><meta property="og:type" content="website" /><link rel="next" href="https://muratsuzen.github.io/page2" /><meta name="twitter:card" content="summary" /><meta property="twitter:title" content="Murat Süzen" /><meta name="twitter:site" content="@muratsuezen" /> <script type="application/ld+json"> {"@context":"https://schema.org","@type":"WebSite","description":".Net Core, Angular, T-SQL, ASP.NET Core, Typescript","headline":"Murat Süzen","name":"Murat Süzen","sameAs":["https://twitter.com/muratsuezen","https://github.com/muratsuzen"],"url":"https://muratsuzen.github.io/"}</script><title>Murat Süzen</title><link rel="apple-touch-icon" sizes="180x180" href="/assets/img/favicons/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="/assets/img/favicons/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="/assets/img/favicons/favicon-16x16.png"><link rel="manifest" href="/assets/img/favicons/site.webmanifest"><link rel="shortcut icon" href="/assets/img/favicons/favicon.ico"><meta name="apple-mobile-web-app-title" content="Murat Süzen"><meta name="application-name" content="Murat Süzen"><meta name="msapplication-TileColor" content="#da532c"><meta name="msapplication-config" content="/assets/img/favicons/browserconfig.xml"><meta name="theme-color" content="#ffffff"><link rel="preconnect" href="https://fonts.googleapis.com"><link rel="dns-prefetch" href="https://fonts.googleapis.com"><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin><link rel="dns-prefetch" href="https://fonts.gstatic.com" crossorigin><link rel="preconnect" href="https://fonts.googleapis.com"><link rel="dns-prefetch" href="https://fonts.googleapis.com"><link rel="preconnect" href="https://cdn.jsdelivr.net"><link rel="dns-prefetch" href="https://cdn.jsdelivr.net"><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Lato&family=Source+Sans+Pro:wght@400;600;700;900&display=swap"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4/dist/css/bootstrap.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.11.2/css/all.min.css"><link rel="stylesheet" href="/assets/css/style.css"> <script src="https://cdn.jsdelivr.net/npm/jquery@3/dist/jquery.min.js"></script> <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-8591605056982916" crossorigin="anonymous"></script><body data-topbar-visible="true"><div id="sidebar" class="d-flex flex-column align-items-end"><div class="profile-wrapper text-center"><div id="avatar"> <a href="/" class="mx-auto"> <img src="https://muratsuzen.github.io/assets/img/logo.jpg" alt="avatar" onerror="this.style.display='none'"> </a></div><div class="site-title"> <a href="/">Murat Suzen</a></div><div class="site-subtitle font-italic">software developer</div></div><ul class="w-100"><li class="nav-item"> <a href="/" class="nav-link"> <i class="fa-fw fas fa-home ml-xl-3 mr-xl-3 unloaded"></i> <span>HOME</span> </a><li class="nav-item"> <a href="/categories/" class="nav-link"> <i class="fa-fw fas fa-stream ml-xl-3 mr-xl-3 unloaded"></i> <span>CATEGORIES</span> </a><li class="nav-item"> <a href="/tags/" class="nav-link"> <i class="fa-fw fas fa-tag ml-xl-3 mr-xl-3 unloaded"></i> <span>TAGS</span> </a><li class="nav-item"> <a href="/archives/" class="nav-link"> <i class="fa-fw fas fa-archive ml-xl-3 mr-xl-3 unloaded"></i> <span>ARCHIVES</span> </a><li class="nav-item"> <a href="/about/" class="nav-link"> <i class="fa-fw fas fa-info-circle ml-xl-3 mr-xl-3 unloaded"></i> <span>ABOUT</span> </a></ul><div class="sidebar-bottom mt-auto d-flex flex-wrap justify-content-center align-items-center"> <a href="https://github.com/muratsuzen" aria-label="github" target="_blank" rel="noopener noreferrer"> <i class="fab fa-github"></i> </a> <a href="https://twitter.com/muratsuezen" aria-label="twitter" target="_blank" rel="noopener noreferrer"> <i class="fab fa-twitter"></i> </a> <a href="https://www.linkedin.com/in/muratsuzen/" aria-label="linkedin" target="_blank" rel="noopener noreferrer"> <i class="fab fa-linkedin"></i> </a> <a href="https://muratsuzen.medium.com/" aria-label="medium" target="_blank" rel="noopener noreferrer"> <i class="fab fa-medium"></i> </a> <a href="/feed.xml" aria-label="rss" > <i class="fas fa-rss"></i> </a></div></div><div id="topbar-wrapper"><div id="topbar" class="container d-flex align-items-center justify-content-between h-100 pl-3 pr-3 pl-md-4 pr-md-4"> <span id="breadcrumb"> <span> <a href="/"> Home </a> </span> <span>Asp.NET Core Web API - Hangfire Kullanımı</span> </span> <i id="sidebar-trigger" class="fas fa-bars fa-fw"></i><div id="topbar-title"> Post</div><i id="search-trigger" class="fas fa-search fa-fw"></i> <span id="search-wrapper" class="align-items-center"> <i class="fas fa-search fa-fw"></i> <input class="form-control" id="search-input" type="search" aria-label="search" autocomplete="off" placeholder="Search..."> </span> <span id="search-cancel" >Cancel</span></div></div><div id="main-wrapper" class="d-flex justify-content-center"><div id="main" class="container pl-xl-4 pr-xl-4"><div class="row"><div id="core-wrapper" class="col-12 col-lg-11 col-xl-9 pr-xl-4"><div class="post pl-1 pr-1 pl-md-2 pr-md-2"><h1 data-toc-skip>Asp.NET Core Web API - Hangfire Kullanımı</h1><div class="post-meta text-muted"> <span> Posted <em class="" data-ts="1602347580" data-df="ll" data-toggle="tooltip" data-placement="bottom"> Oct 10, 2020 </em> </span><div class="d-flex justify-content-between"> <span> By <em> <a href=""></a> </em> </span><div> <span class="readtime" data-toggle="tooltip" data-placement="bottom" title="577 words"> <em>3 min</em> read</span></div></div></div><div class="post-content"><h2 id="hangfire-nedir"><span class="mr-2">Hangfire Nedir?</span><a href="#hangfire-nedir" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><p>Hangfire, uygulamalarımızda arka planda çalıştırmak istediğimiz işleri ( background jobs) yönetebildiğimiz açık kaynaklı bir kütüphanedir. Peki neden böyle bir kütüphaneye gereksinim duyuyoruz. Bunu bir örnek ile açıklayayım. Örnek olarak bir tedarik firmasında ürünlerinizin fiyatlarının yeni ayda değiştiğini düşünelim. Bu değişikliği sizden ürün tedarik eden yüzlerce müşterinize mail göndererek bildirmeniz gerekiyor. Mail gönderim ekranında tüm müşterilerinizi seçip mail göndermeyi başlattığınızda bu yüzlerce mail gönderim işleminin bitmesini beklemek zorunda kalacaksınız. İşte bu ve buna benzer bir iş parçacığının tek bir thread üzerinde yapmak yerine Hangfire ile farklı threat larda ve istediğimiz zamanlarda gönderimini sağlayabiliriz.</p><p>ASP.NET Core uygulamalarını yerel olarak geliştirmek ve çalıştırmak için aşağıdakileri indirip yükleyin:</p><ul><li><a href="https://code.visualstudio.com/">Visual Studio Code</a> adresinden Windows, Mac ve Linux işletim sistemlerinde çalışabilen Microsoft tarafından geliştirilip açık kaynak olarak sunulan kod editörünü indiriniz.<li><a href="https://marketplace.visualstudio.com/items?itemName=ms-vscode.csharp">C# extension</a> adresinden yada VS Code içersinideki eklentiler bölümünden .NET Core uygulamaları geliştirirken kolaylıklar getiren eklentiyi indiriniz.<li><a href="https://www.microsoft.com/net/download/core">.NET Core SDK</a> adresinden .NET Core 3.1 runtime SDK dosyasını indirip kurmalısınız.</ul><h2 id="projeye-hangfire-paketlerinin-eklenmesi"><span class="mr-2">Projeye Hangfire Paketlerinin Eklenmesi</span><a href="#projeye-hangfire-paketlerinin-eklenmesi" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><div class="language-xml highlighter-rouge"><div class="code-header"> <span data-label-text="XML"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
</pre><td class="rouge-code"><pre><span class="nt">&lt;ItemGroup&gt;</span>
  <span class="nt">&lt;PackageReference</span> <span class="na">Include=</span><span class="s">"Microsoft.AspNetCore.App"</span> <span class="nt">/&gt;</span>
  <span class="nt">&lt;PackageReference</span> <span class="na">Include=</span><span class="s">"Microsoft.AspNetCore.Razor.Design"</span> <span class="na">Version=</span><span class="s">"2.2.0"</span> <span class="na">PrivateAssets=</span><span class="s">"All"</span> <span class="nt">/&gt;</span>
  <span class="nt">&lt;PackageReference</span> <span class="na">Include=</span><span class="s">"Hangfire.Core"</span> <span class="na">Version=</span><span class="s">"1.7.*"</span><span class="nt">&gt;&lt;/PackageReference&gt;</span>
  <span class="nt">&lt;PackageReference</span> <span class="na">Include=</span><span class="s">"Hangfire.SqlServer"</span> <span class="na">Version=</span><span class="s">"1.7.*"</span><span class="nt">&gt;&lt;/PackageReference&gt;</span>
  <span class="nt">&lt;PackageReference</span> <span class="na">Include=</span><span class="s">"Hangfire.AspNetCore"</span> <span class="na">Version=</span><span class="s">"1.7.*"</span><span class="nt">&gt;&lt;/PackageReference&gt;</span>
<span class="nt">&lt;/ItemGroup&gt;</span>
</pre></table></code></div></div><p>Yazının detayına girmeden önce .Net Core ile ilgili en son yazdığım ASP.NET Core 3.1 Web API – Swagger Kullanımı yazımı okuyabilirsiniz. Hangfire kütüphanesini nuget paket yönetiminden aşağıdaki gibi yükleyebiliriz.</p><div class="language-shell highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>dotnet add package Hangfire.AspNetCore <span class="nt">--version</span> 1.7.12
</pre></table></code></div></div><h2 id="hangfire-için-veritabanı-oluşturma"><span class="mr-2">Hangfire için Veritabanı Oluşturma</span><a href="#hangfire-için-veritabanı-oluşturma" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><p>Hangfire yapısı veri ve ayarları saklamak için Redis yada SQL veritabanına ihtiyaç duymaktadır. Bu makalede SQL veritabanı oluşturarak Hangfire kullanımına değineceğim. Öncelikle Hangfire için bir veritabanı oluşturalım.</p><div class="language-sql highlighter-rouge"><div class="code-header"> <span data-label-text="Sql"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre><span class="k">CREATE</span> <span class="k">DATABASE</span> <span class="p">[</span><span class="n">Hangfire</span><span class="p">]</span><span class="k">GO</span>
</pre></table></code></div></div><h2 id="hangfire-veritabanı-yapılandırılması"><span class="mr-2">Hangfire Veritabanı Yapılandırılması</span><a href="#hangfire-veritabanı-yapılandırılması" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><p>Oluşturduğumuz veritabanı için bir bağlantı bilgisi eklememiz gerekmektedir. Bu bağlantı bilgisini appsettings.json içerisinde aşağıdaki şekilde ekliyorum.</p><div class="language-json highlighter-rouge"><div class="code-header"> <span data-label-text="JSON"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
</pre><td class="rouge-code"><pre><span class="nl">"ConnectionStrings"</span><span class="p">:</span><span class="w"> 
    </span><span class="p">{</span><span class="w">    
        </span><span class="nl">"HangfireConnection"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Server=.</span><span class="se">\\</span><span class="s2">sqlexpress;Database=Hangfire;Integrated Security=SSPI;"</span><span class="w">  
    </span><span class="p">}</span><span class="w">
</span></pre></table></code></div></div><p>Hangfire uyarı mesajlarını farklı bir türde göstermek için aşağıdaki şekilde Logging alanını düzenleyebilirsiniz.</p><div class="language-json highlighter-rouge"><div class="code-header"> <span data-label-text="JSON"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
</pre><td class="rouge-code"><pre><span class="nl">"Logging"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"LogLevel"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"Default"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Warning"</span><span class="p">,</span><span class="w"> </span><span class="nl">"Hangfire"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Information"</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></pre></table></code></div></div><h2 id="hangfire-yapılandırılması"><span class="mr-2">Hangfire Yapılandırılması</span><a href="#hangfire-yapılandırılması" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><p>Projemizde Hangfire yapılandırma kodlarını yazacağımız <code class="language-plaintext highlighter-rouge">Startup.cs</code> dosyasında aşağıdaki ayarlamaları yapmamız gerekmektedir.</p><div class="language-csharp highlighter-rouge"><div class="code-header"> <span data-label-text="C#"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
</pre><td class="rouge-code"><pre><span class="k">public</span> <span class="k">void</span> <span class="nf">ConfigureServices</span><span class="p">(</span><span class="n">IServiceCollection</span> <span class="n">services</span><span class="p">)</span>
 <span class="p">{</span>
     <span class="n">services</span><span class="p">.</span><span class="nf">AddHangfire</span><span class="p">(</span><span class="n">hf</span> <span class="p">=&gt;</span> <span class="n">hf</span><span class="p">.</span><span class="nf">UseSqlServerStorage</span><span class="p">(</span><span class="n">Configuration</span><span class="p">.</span><span class="nf">GetConnectionString</span><span class="p">(</span><span class="s">"HangfireConnection"</span><span class="p">)));</span>
     <span class="n">services</span><span class="p">.</span><span class="nf">AddHangfireServer</span><span class="p">();</span>
 <span class="p">}</span>
</pre></table></code></div></div><p>Hangfire dashboard kullanımı için ApplicationBuilder ayarlarında UseHangfireDashboard() tanımını yapmalıyız.</p><div class="language-csharp highlighter-rouge"><div class="code-header"> <span data-label-text="C#"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
</pre><td class="rouge-code"><pre><span class="k">public</span> <span class="k">void</span> <span class="nf">Configure</span><span class="p">(</span><span class="n">IApplicationBuilder</span> <span class="n">app</span><span class="p">,</span> <span class="n">IHostingEnvironment</span> <span class="n">env</span><span class="p">)</span>
<span class="p">{</span>
    <span class="n">app</span><span class="p">.</span><span class="nf">UseHangfireDashboard</span><span class="p">();</span>
<span class="p">}</span>
</pre></table></code></div></div><p>Yapılandırma sonrasında projemizi çalıştırdığımızda <a href="http://localhost:57992/hangfire/">http://localhost:57992/hangfire/</a> yolundan Hangfire Dashboard sayfasına erişebiliriz.</p><h2 id="hangfire-background-job-tipleri"><span class="mr-2">Hangfire Background Job Tipleri</span><a href="#hangfire-background-job-tipleri" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><ul><li><code class="language-plaintext highlighter-rouge">Fire and forget jobs :</code> Yapılacak işin belirli bir zamana programlanmadan hemen yapılması ve tekrar etmeden tek bir defa çalıştırılmasını sağlayan background job tipidir.</ul><div class="language-csharp highlighter-rouge"><div class="code-header"> <span data-label-text="C#"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre><span class="n">BackgroundJob</span><span class="p">.</span><span class="nf">Enqueue</span><span class="p">(()</span> <span class="p">=&gt;</span> <span class="n">Console</span><span class="p">.</span><span class="nf">WriteLine</span><span class="p">(</span><span class="s">"Hello, world!"</span><span class="p">));</span>
</pre></table></code></div></div><ul><li><code class="language-plaintext highlighter-rouge">Delayed jobs :</code> Yapılacak işin belirli bir zaman bitiminde ve bir defa çalışmasını sağlayan background job tipidir.</ul><div class="language-csharp highlighter-rouge"><div class="code-header"> <span data-label-text="C#"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre><span class="kt">var</span> <span class="n">jobId</span> <span class="p">=</span> <span class="n">BackgroundJob</span><span class="p">.</span><span class="nf">Schedule</span><span class="p">(()</span> <span class="p">=&gt;</span> <span class="n">Console</span><span class="p">.</span><span class="nf">WriteLine</span><span class="p">(</span><span class="s">"Delayed!"</span><span class="p">),</span> <span class="n">TimeSpan</span><span class="p">.</span><span class="nf">FromDays</span><span class="p">(</span><span class="m">7</span><span class="p">));</span>
</pre></table></code></div></div><ul><li><code class="language-plaintext highlighter-rouge">Recurring jobs :</code> Yapılacak işin bir zaman programına uygun olarak bir çok kez yapılmasını sağlayan background job tipidir. Bu zamanlama işlemlerini CRON sürecinde (saatlik,günlük,haftalık,aylık, yıllık yada CRON expression vb.) tanımlayabiliriz.</ul><div class="language-csharp highlighter-rouge"><div class="code-header"> <span data-label-text="C#"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre><span class="n">RecurringJob</span><span class="p">.</span><span class="nf">AddOrUpdate</span><span class="p">(()</span> <span class="p">=&gt;</span> <span class="n">Console</span><span class="p">.</span><span class="nf">WriteLine</span><span class="p">(</span><span class="s">"Recurring!"</span><span class="p">),</span>    <span class="n">Cron</span><span class="p">.</span><span class="n">Daily</span><span class="p">);</span>
</pre></table></code></div></div><ul><li><code class="language-plaintext highlighter-rouge">Continuations job:</code> Daha önceden tanımlanan bir işin tamamlanmasından sonra çalışan background job tipidir. Örnekte görüldüğü üzere jobId tamanlanması gereken öncelikli iş tanımıdır. Bu ana iş tamamlandıktan sonra <code class="language-plaintext highlighter-rouge">Console.WriteLine(“Continuation!”)</code> işi yerine getirilecektir.</ul><div class="language-csharp highlighter-rouge"><div class="code-header"> <span data-label-text="C#"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre><span class="n">BackgroundJob</span><span class="p">.</span><span class="nf">ContinueJobWith</span><span class="p">(</span><span class="n">jobId</span><span class="p">,()</span> <span class="p">=&gt;</span> <span class="n">Console</span><span class="p">.</span><span class="nf">WriteLine</span><span class="p">(</span><span class="s">"Continuation!"</span><span class="p">));</span>
</pre></table></code></div></div><p>Hangfire kütüphanesinin ücretli bölümünde bulunan <code class="language-plaintext highlighter-rouge">Batch (PRO)</code> ve <code class="language-plaintext highlighter-rouge">Batch Continuations (PRO)</code> job türlerini inceleyelim.</p><ul><li><code class="language-plaintext highlighter-rouge">Batch (PRO) :</code> Tanımlanan birden fazla işi tek bir grup şeklinde çalıştıran background job türüdür.</ul><div class="language-csharp highlighter-rouge"><div class="code-header"> <span data-label-text="C#"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre><td class="rouge-code"><pre><span class="kt">var</span> <span class="n">batchId</span> <span class="p">=</span> <span class="n">BatchJob</span><span class="p">.</span><span class="nf">StartNew</span><span class="p">(</span><span class="n">x</span> <span class="p">=&gt;</span> <span class="p">{</span> <span class="n">x</span><span class="p">.</span><span class="nf">Enqueue</span><span class="p">(()</span> <span class="p">=&gt;</span> <span class="n">Console</span><span class="p">.</span><span class="nf">WriteLine</span><span class="p">(</span><span class="s">"Job 1"</span><span class="p">));</span> 
    <span class="n">x</span><span class="p">.</span><span class="nf">Enqueue</span><span class="p">(()</span> <span class="p">=&gt;</span> <span class="n">Console</span><span class="p">.</span><span class="nf">WriteLine</span><span class="p">(</span><span class="s">"Job 2"</span><span class="p">));</span> <span class="p">});</span>
</pre></table></code></div></div><ul><li><code class="language-plaintext highlighter-rouge">Batch Continuations (PRO) :</code> Grup halinde tanımlanan Batch iş tanımlarının tamamlanmasından sonra çalışacak olan background job türüdür.</ul><div class="language-csharp highlighter-rouge"><div class="code-header"> <span data-label-text="C#"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre><span class="n">BatchJob</span><span class="p">.</span><span class="nf">ContinueBatchWith</span><span class="p">(</span><span class="n">batchId</span><span class="p">,</span> <span class="n">x</span> <span class="p">=&gt;{</span><span class="n">x</span><span class="p">.</span><span class="nf">Enqueue</span><span class="p">(()</span> <span class="p">=&gt;</span> <span class="n">Console</span><span class="p">.</span><span class="nf">WriteLine</span><span class="p">(</span><span class="s">"Last Job"</span><span class="p">));});</span>
</pre></table></code></div></div><p>Detaylı döküman bilgisine <a href="https://docs.hangfire.io/en/latest/">buradan</a> ulaşabilirsiniz.</p></div><div class="post-tail-wrapper text-muted"><div class="post-meta mb-3"> <i class="far fa-folder-open fa-fw mr-1"></i> <a href='/categories/asp-net-core/'>ASP.NET CORE</a></div><div class="post-tags"> <i class="fa fa-tags fa-fw mr-1"></i> <a href="/tags/asp-net-core/" class="post-tag no-text-decoration" >asp.net core</a> <a href="/tags/web-api/" class="post-tag no-text-decoration" >web api</a> <a href="/tags/hangfire/" class="post-tag no-text-decoration" >hangfire</a></div><div class="post-tail-bottom d-flex justify-content-between align-items-center mt-3 pt-5 pb-2"><div class="license-wrapper"> This post is licensed under <a href="https://creativecommons.org/licenses/by/4.0/"> CC BY 4.0 </a> by the author.</div><div class="share-wrapper"> <span class="share-label text-muted mr-1">Share</span> <span class="share-icons"> <a href="https://twitter.com/intent/tweet?text=Asp.NET%20Core%20Web%20API%20-%20Hangfire%20Kullan%C4%B1m%C4%B1%20-%20Murat%20Suzen&url=https%3A%2F%2Fmuratsuzen.github.io%2Fposts%2Fhangfire-nedir-nasil-kullanilir%2F" data-toggle="tooltip" data-placement="top" title="Twitter" target="_blank" rel="noopener" aria-label="Twitter"> <i class="fa-fw fab fa-twitter"></i> </a> <a href="https://www.facebook.com/sharer/sharer.php?title=Asp.NET%20Core%20Web%20API%20-%20Hangfire%20Kullan%C4%B1m%C4%B1%20-%20Murat%20Suzen&u=https%3A%2F%2Fmuratsuzen.github.io%2Fposts%2Fhangfire-nedir-nasil-kullanilir%2F" data-toggle="tooltip" data-placement="top" title="Facebook" target="_blank" rel="noopener" aria-label="Facebook"> <i class="fa-fw fab fa-facebook-square"></i> </a> <a href="https://www.linkedin.com/sharing/share-offsite/?url=https%3A%2F%2Fmuratsuzen.github.io%2Fposts%2Fhangfire-nedir-nasil-kullanilir%2F" data-toggle="tooltip" data-placement="top" title="Linkedin" target="_blank" rel="noopener" aria-label="Linkedin"> <i class="fa-fw fab fa-linkedin"></i> </a> <i id="copy-link" class="fa-fw fas fa-link small" data-toggle="tooltip" data-placement="top" title="Copy link" data-title-succeed="Link copied successfully!"> </i> </span></div></div></div></div></div><div id="panel-wrapper" class="col-xl-3 pl-2 text-muted"><div class="access"><div id="access-tags"><div class="panel-heading">Trending Tags</div><div class="d-flex flex-wrap mt-3 mb-1 mr-3"> <a class="post-tag" href="/tags/asp-net-core/">asp.net core</a> <a class="post-tag" href="/tags/web-api/">web api</a> <a class="post-tag" href="/tags/dotnet/">dotnet</a> <a class="post-tag" href="/tags/net-6-0/">net 6.0</a> <a class="post-tag" href="/tags/csharp/">csharp</a> <a class="post-tag" href="/tags/middleware/">middleware</a> <a class="post-tag" href="/tags/net-9/">.NET 9</a> <a class="post-tag" href="/tags/api-key/">api key</a> <a class="post-tag" href="/tags/aspnet-core/">aspnet core</a> <a class="post-tag" href="/tags/dependency-injection/">dependency injection</a></div></div></div><div id="toc-wrapper" class="pl-0 pr-4 mb-5"><div class="panel-heading pl-3 pt-2 mb-2">Contents</div><nav id="toc"></nav></div><script src="https://cdn.jsdelivr.net/npm/tocbot@4.20.1/dist/tocbot.min.js"></script></div></div><div class="row"><div id="tail-wrapper" class="col-12 col-lg-11 col-xl-9 pl-3 pr-3 pr-xl-4 mt-5"><div id="related-posts" class="mb-2 mb-sm-4"><h3 class="pt-2 mb-4 ml-1" data-toc-skip>Further Reading</h3><div class="card-deck mb-4"><div class="card"> <a href="/posts/web-api-ve-angular-ile-blob-kullanimi/"><div class="card-body"> <em class="small" data-ts="1610296380" data-df="ll" > Jan 10, 2021 </em><h3 class="pt-0 mt-1 mb-3" data-toc-skip>Web API ve Angular 8 ile Blob Veri Tipi Kullanımı</h3><div class="text-muted small"><p> Yaptığım bir Angular projesinde Web API ile FTP server dan dosya indirme işlem yapmam gerekiyordu. Haliyle blob veri tipleriyle ilgilenmem gerekti. FTP den dosyaları indirme işlemi çok zamanımı alm...</p></div></div></a></div><div class="card"> <a href="/posts/asp-net-core-web-api-jwt-authentication-kullanimi/"><div class="card-body"> <em class="small" data-ts="1610296380" data-df="ll" > Jan 10, 2021 </em><h3 class="pt-0 mt-1 mb-3" data-toc-skip>ASP.NET Core Web API - JWT Authentication Kullanımı</h3><div class="text-muted small"><p> Merhabalar bu makalede .Net Core 3.1 versiyonu ile bir Web API örnek projede JWT (JSON Web Token) kimlik doğrulama yapısını inceleyeceğim. Daha önceki Web API makalelerine buradan ulaşabilirsiniz. ...</p></div></div></a></div><div class="card"> <a href="/posts/asp-net-core-web-api-basic-authentication-kullanimi/"><div class="card-body"> <em class="small" data-ts="1610728380" data-df="ll" > Jan 15, 2021 </em><h3 class="pt-0 mt-1 mb-3" data-toc-skip>ASP.NET Core Web API - Basic Authentication Kullanımı</h3><div class="text-muted small"><p> Merhabalar bu makalede .Net Core 3.1 versiyonu ile bir Web API örnek projede Basic kimlik doğrulama yapısını inceleyeceğim. Bir önceki ASP.NET Core 3.1 Web API – JWT Authentication Kullanımı makale...</p></div></div></a></div></div></div><div class="post-navigation d-flex justify-content-between"> <a href="/posts/dependency-injection-ninject-kullanimi/" class="btn btn-outline-primary" prompt="Older"><p>Dependency Injection — Ninject Kullanımı</p></a> <a href="/posts/web-api-ve-angular-ile-blob-kullanimi/" class="btn btn-outline-primary" prompt="Newer"><p>Web API ve Angular 8 ile Blob Veri Tipi Kullanımı</p></a></div><script type="text/javascript"> $(function () { const origin = "https://giscus.app"; const iframe = "iframe.giscus-frame"; const lightTheme = "light"; const darkTheme = "dark_dimmed"; let initTheme = lightTheme; if ($("html[data-mode=dark]").length > 0 || ($("html[data-mode]").length == 0 && window.matchMedia("(prefers-color-scheme: dark)").matches)) { initTheme = darkTheme; } let giscusAttributes = { "src": "https://giscus.app/client.js", "data-repo": "muratsuzen/muratsuzen.github.io", "data-repo-id": "R_kgDOHzYwFw", "data-category": "General", "data-category-id": "DIC_kwDOHzYwF84CQwaD", "data-mapping": "og:title", "data-reactions-enabled": "1", "data-emit-metadata": "0", "data-theme": initTheme, "data-input-position": "top", "data-lang": "en", "crossorigin": "anonymous", "async": "" }; let giscusScript = document.createElement("script"); Object.entries(giscusAttributes).forEach(([key, value]) => giscusScript.setAttribute(key, value)); document.getElementById("tail-wrapper").appendChild(giscusScript); addEventListener("message", (event) => { if (event.source === window && event.data && event.data.direction === ModeToggle.ID) { /* global theme mode changed */ const mode = event.data.message; const theme = (mode === ModeToggle.DARK_MODE ? darkTheme : lightTheme); const message = { setConfig: { theme: theme } }; const giscus = document.querySelector(iframe).contentWindow; giscus.postMessage({ giscus: message }, origin); } }); }); </script></div></div></div><div id="search-result-wrapper" class="d-flex justify-content-center unloaded"><div class="col-12 col-sm-11 post-content"><div id="search-hints"><div id="access-tags"><div class="panel-heading">Trending Tags</div><div class="d-flex flex-wrap mt-3 mb-1 mr-3"> <a class="post-tag" href="/tags/asp-net-core/">asp.net core</a> <a class="post-tag" href="/tags/web-api/">web api</a> <a class="post-tag" href="/tags/dotnet/">dotnet</a> <a class="post-tag" href="/tags/net-6-0/">net 6.0</a> <a class="post-tag" href="/tags/csharp/">csharp</a> <a class="post-tag" href="/tags/middleware/">middleware</a> <a class="post-tag" href="/tags/net-9/">.NET 9</a> <a class="post-tag" href="/tags/api-key/">api key</a> <a class="post-tag" href="/tags/aspnet-core/">aspnet core</a> <a class="post-tag" href="/tags/dependency-injection/">dependency injection</a></div></div></div><div id="search-results" class="d-flex flex-wrap justify-content-center text-muted mt-3"></div></div></div></div><footer><div class="container pl-lg-4 pr-lg-4"><div class="d-flex justify-content-between align-items-center text-muted ml-md-3 mr-md-3"><div class="footer-left"><p class="mb-0"> © 2025 <a href="https://github.com/muratsuzen">Murat Suzen</a>. <span data-toggle="tooltip" data-placement="top" title="Except where otherwise noted, the blog posts on this site are licensed under the Creative Commons Attribution 4.0 International (CC BY 4.0) License by the author.">Some rights reserved.</span></p></div><div class="footer-right"><p class="mb-0">Powered by <a href="https://jekyllrb.com" target="_blank" rel="noopener">Jekyll</a> with <a href="https://github.com/cotes2020/jekyll-theme-chirpy" target="_blank" rel="noopener">Chirpy</a> theme.</p></div></div></div></footer><script src="https://cdn.jsdelivr.net/npm/mermaid@8/dist/mermaid.min.js"></script> <script> (function () { function updateMermaid(event) { if (event.source === window && event.data && event.data.direction === ModeToggle.ID) { const mode = event.data.message; if (typeof mermaid === "undefined") { return; } let expectedTheme = (mode === ModeToggle.DARK_MODE ? "dark" : "default"); let config = {theme: expectedTheme}; /* Re-render the SVG › <https://github.com/mermaid-js/mermaid/issues/311#issuecomment-332557344> */ $(".mermaid").each(function () { let svgCode = $(this).prev().children().html(); $(this).removeAttr("data-processed"); $(this).html(svgCode); }); mermaid.initialize(config); mermaid.init(undefined, ".mermaid"); } } let initTheme = "default"; if ($("html[data-mode=dark]").length > 0 || ($("html[data-mode]").length == 0 && window.matchMedia("(prefers-color-scheme: dark)").matches)) { initTheme = "dark"; } let mermaidConf = { theme: initTheme /* <default|dark|forest|neutral> */ }; /* Create mermaid tag */ $("pre").has("code.language-mermaid").each(function () { let svgCode = $(this).children().html(); $(this).addClass("unloaded"); $(this).after(`<pre class=\"mermaid\">${svgCode}</pre>`); }); mermaid.initialize(mermaidConf); window.addEventListener("message", updateMermaid); })(); </script><div id="mask"></div><a id="back-to-top" href="#" aria-label="back-to-top" class="btn btn-lg btn-box-shadow" role="button"> <i class="fas fa-angle-up"></i> </a><div id="notification" class="toast" role="alert" aria-live="assertive" aria-atomic="true" data-animation="true" data-autohide="false"><div class="toast-header"> <button type="button" class="ml-2 ml-auto close" data-dismiss="toast" aria-label="Close"> <span aria-hidden="true">&times;</span> </button></div><div class="toast-body text-center pt-0"><p class="pl-2 pr-2 mb-3">A new version of content is available.</p><button type="button" class="btn btn-primary" aria-label="Update"> Update </button></div></div><script src="https://cdn.jsdelivr.net/npm/simple-jekyll-search@1.10.0/dest/simple-jekyll-search.min.js"></script> <script> SimpleJekyllSearch({ searchInput: document.getElementById('search-input'), resultsContainer: document.getElementById('search-results'), json: '/assets/js/data/search.json', searchResultTemplate: '<div class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-lg-4 pr-lg-4 pl-xl-0 pr-xl-0"> <a href="{url}">{title}</a><div class="post-meta d-flex flex-column flex-sm-row text-muted mt-1 mb-1"> {categories} {tags}</div><p>{snippet}</p></div>', noResultsText: '<p class="mt-5">Oops! No results found.</p>', templateMiddleware: function(prop, value, template) { if (prop === 'categories') { if (value === '') { return `${value}`; } else { return `<div class="mr-sm-4"><i class="far fa-folder fa-fw"></i>${value}</div>`; } } if (prop === 'tags') { if (value === '') { return `${value}`; } else { return `<div><i class="fa fa-tag fa-fw"></i>${value}</div>`; } } } }); </script> <script src="https://cdn.jsdelivr.net/combine/npm/magnific-popup@1/dist/jquery.magnific-popup.min.js,npm/lazysizes@5.3.2/lazysizes.min.js,npm/clipboard@2/dist/clipboard.min.js"></script> <script src="https://cdn.jsdelivr.net/combine/npm/dayjs@1/dayjs.min.js,npm/dayjs@1/locale/en.min.js,npm/dayjs@1/plugin/relativeTime.min.js,npm/dayjs@1/plugin/localizedFormat.min.js"></script> <script defer src="/assets/js/dist/post.min.js"></script> <script> /* see: <https://docs.mathjax.org/en/latest/options/input/tex.html#tex-options> */ MathJax = { tex: { /* start/end delimiter pairs for in-line math */ inlineMath: [ ['$', '$'], ['\\(', '\\)'] ], /* start/end delimiter pairs for display math */ displayMath: [ ['$$', '$$'], ['\\[', '\\]'] ] } }; </script> <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script> <script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js"></script> <script src="https://cdn.jsdelivr.net/npm/bootstrap@4/dist/js/bootstrap.bundle.min.js"></script> <script defer src="/app.js"></script> <script defer src="https://www.googletagmanager.com/gtag/js?id=G-B206HX7D04"></script> <script> document.addEventListener("DOMContentLoaded", function(event) { window.dataLayer = window.dataLayer || []; function gtag(){dataLayer.push(arguments);} gtag('js', new Date()); gtag('config', 'G-B206HX7D04'); }); </script>
